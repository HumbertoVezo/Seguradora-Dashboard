import React, { Component } from "react";
import { connect } from "react-redux";
import Select from "react-select";
import axios from "axios";

import "react-vis/dist/style.css";

import Box from "@mui/material/Box";

import GraficoHardwares from "./GraficoHardwares";

class Dashboard extends Component {
  constructor(props) {
    super(props);
    this.handleChange = this.handleChange.bind(this);

    this.state = {
      selectOptions: [],

    };
  }

  
  async getOptionsDepartamento() {
    const res = await axios.get("http://localhost:1337/departamentos");
    const data = res.data;

    const options = data.map((e) => ({
      value: e.id,
      label: e.nome_departamento,
    }));

    this.setState({ selectOptions: options });
  }

  componentDidMount() {
    this.getOptionsDepartamento();
  }
  render() {

    return (
      <>
        <div className="container">
          <div className="row">
            <div className="col-lg-12">
              <div className="end" />
              <h3 style={{ color: "#f9812a" }}>Gr√°ficos</h3> <br />
              <div className="col-lg-5">
                <Select
                  options={this.state.selectOptions}
                  id="departamento"
                  name="departamento"
                  onChange={this.handleChange.bind(this)}
                />
              </div>{" "}
              <br /> <br />

              {/* Adicionar graficos em baixo */}

              <div className="col-lg-12">
                <Box sx={{ width: 1 }}>
                  <Box
                    display="grid"
                    gridTemplateColumns="repeat(12, 1fr)"
                    gap={5}
                  >
                    {/* <GraficoTamanhoSedimentoQuantidade praiaId={this.state.currentPraia} />
                    <GraficoTamanhoSedimento praiaId={this.state.currentPraia} />
                    <GraficoMudancaSedimento  praiaId={this.state.currentPraia} />
                    <GraficoDetritos praiaId={this.state.currentPraia} />
                    <GraficoOndas praiaId={this.state.currentPraia} /> */} 
                  <GraficoHardwares departamentoId={this.state.currentDepartamento} />
                    {/* <GraficoVelCorrentes praiaId={this.state.currentPraia} /> */}
                  </Box>
                </Box>
              </div>
           
              <div className="col-lg-12">
                {" "}
                <br />
               
              </div>
             
              <div className="col-lg-12">
                {" "}
                
              
              </div>
              <div className="end" />
              <div className="col-lg-12">
                {" "}
              
               
              </div>
            </div>
          </div>
        </div>
      </>
    );
  }
}

const mapStateToProps = (state) => {
  return {
    had_wares: state.had_wares,
  };
};

export default connect(mapStateToProps,)(Dashboard);